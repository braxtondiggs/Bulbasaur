<div class="modal modal-open" *ngIf="isVisible" (click)="close()">
  <div class="modal-box max-w-4xl w-11/12" (click)="$event.stopPropagation()">
    <button
      type="button"
      class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
      (click)="close()"
    >
      <ng-icon name="featherX" size="1.5rem"></ng-icon>
    </button>
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6">
      <div class="md:col-span-2">
        <img
          [lazyLoad]="project.image.screenshot"
          alt="{{ project.title }}"
          class="w-full max-h-[65vh] object-contain shadow-lg rounded-lg block mx-auto"
          [ngClass]="{
            'aspect-[9/16]': project.mobile,
            'aspect-video': !project.mobile
          }"
        />
      </div>
      <div class="md:col-span-3 flex flex-col">
        <div class="flex-1">
          <h2 class="text-2xl font-bold mb-4">{{ project.title }}</h2>
          <div
            class="prose prose-sm max-w-none"
            [innerHtml]="project.description_modified"
          ></div>
        </div>
        <div
          class="flex flex-col sm:flex-row gap-4 sm:items-center mt-6"
          *ngIf="project.url"
        >
          <div class="flex-1">
            <a
              [href]="project.url.web"
              target="_blank"
              (click)="ga.eventEmitter('projects', 'web', project.title)"
              *ngIf="project.url.web"
              class="btn btn-primary btn-lg"
            >
              View Project
            </a>
          </div>
          <div class="flex gap-2">
            <a
              [href]="project.url.android"
              target="_blank"
              *ngIf="project.url.android"
              (click)="ga.eventEmitter('projects', 'android', project.title)"
              class="block"
            >
              <img
                lazyLoad="assets/Google-Store.png"
                alt="{{ project.title }} on Google Play"
                class="h-8 w-auto shadow-none"
              />
            </a>
            <a
              [href]="project.url.ios"
              target="_blank"
              *ngIf="project.url.ios"
              (click)="ga.eventEmitter('projects', 'ios', project.title)"
              class="block"
            >
              <img
                lazyLoad="assets/Apple-Store.png"
                alt="{{ project.title }} on Apple Store"
                class="h-8 w-auto shadow-none"
              />
            </a>
            <a
              [href]="project.url.other"
              target="_blank"
              *ngIf="project.url.other"
              (click)="ga.eventEmitter('projects', 'other', project.title)"
              class="block"
            >
              <img
                [lazyLoad]="project.image.other"
                alt="{{ project.title }}"
                class="h-8 w-auto shadow-none"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
